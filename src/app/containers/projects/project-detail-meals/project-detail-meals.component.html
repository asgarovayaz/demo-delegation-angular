<app-meals-header 
[selectAllStateMeals]="selectAllStateMeals" 
(selectAllChange)="selectAllChangeMeals($event)"
[showOrderByMeals]="false" 
[showDisplayModeMeals]="false" 
(searchKeyUp)="updateFilterMeals($event)" 
(itemsPerPageChange)="onItemsPerPageChangeMeals($event)" 
[itemsPerPageMeals]="itemsPerPageMeals" 
[itemOptionsPerPageMeals]="itemOptionsPerPageMeals"
(addNewMeal)="showAddNewMealModal()">
</app-meals-header>

<app-add-new-meals-modal #addNewMealModalRef></app-add-new-meals-modal>

<div class="row">
  <div class="col-12 mb-4 data-table-rows">
    <ngx-datatable [rows]="rowsMeals" [columns]="columnsMeals" [columnMode]="columnModeMeals.flex" [limit]="itemsPerPageMeals" [headerHeight]="20"
      [footerHeight]="100" #table [sorts]="[{ prop: 'name', dir: 'asc' }]" (select)="onSelectMeals($event)"
      [selected]="selectedMeals" [selectionType]="selectionTypeMeals.checkbox">

      <ngx-datatable-column name="Name" [flexGrow]="1.2">
        <ng-template let-row="row" ngx-datatable-cell-template>
         {{ row.Name }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Breakfast Total" [flexGrow]="0.7">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row.BreakFastTotal }}
         </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Breakfast Available" [flexGrow]="1.1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row.BreakFastAvailable }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Lunch Total" [flexGrow]="1.1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row.LunchTotal }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Lunch Available" [flexGrow]="1.1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row.LunchAvailable }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Dinner Total" [flexGrow]="1.1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row.DinnerTotal }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Dinner Available" [flexGrow]="1.1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row.DinnerAvailable }}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-footer *ngIf="true">
        <ng-template ngx-datatable-footer-template let-rowCount="rowCount" let-pageSize="pageSize"
          let-selectedCount="selectedCount" let-curPage="curPage" let-offset="offset" let-limit="limit">
          <div class="w-100 d-flex justify-content-center">
            <pagination [totalItems]="rowCount" [itemsPerPage]="pageSize" [maxSize]="5"
              previousText="<i class='simple-icon-arrow-left'></i>" (pageChanged)="table.onFooterPage($event)"
              nextText="<i class='simple-icon-arrow-right'></i>">
            </pagination>
          </div>
        </ng-template>
      </ngx-datatable-footer>
    </ngx-datatable>
  </div>
</div>
